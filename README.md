# Compliance Assistant - AI-Powered Business Compliance Chat

A modern full-stack application that helps Small and Medium Enterprises (SMEs) navigate legal, regulatory, and operational compliance challenges using AI.

## üöÄ Features

- **AI-Powered Compliance Assistant**: Get instant answers to compliance questions
- **Chat History**: Persistent conversation history with session management
- **Modern UI**: Responsive design with TailwindCSS
- **Real-time Responses**: Fast, formatted responses from LLM
- **Session Management**: Create, view, and manage chat sessions

## üõ†Ô∏è Tech Stack

### Backend
- **Framework**: FastAPI (Python)
- **Database**: PostgreSQL with SQLAlchemy
- **LLM**: Google Gemini
- **Documentation**: Auto-generated Swagger

### Frontend
- **Framework**: Next.js 15 with TypeScript
- **Styling**: TailwindCSS v4
- **State Management**: Redux Toolkit

## üìã Prerequisites

- Python 3.11+
- Node.js 18+
- Docker (for PostgreSQL)
- Google Gemini API key

## üöÄ Quick Start

### Option 1: Docker Compose (Recommended)

```bash
# Clone the repository
git clone https://github.com/Aduda-Shem/compliance-analyst.git
cd compliance-assistant

# Set up environment variables
cp env.example .env
# Edit .env with your Gemini API key

# Start all services
docker-compose up --build

# Access the application
# Frontend: http://localhost:3000
# Backend API: http://localhost:8000
# API Documentation: http://localhost:8000/docs
```

### Option 2: Local Development

#### 1. Clone the Repository
```bash
git clone https://github.com/Aduda-Shem/compliance-analyst.git
cd compliance-assistant
```

#### 2. Backend Setup

```bash
cd backend

# Install dependencies
pip install -r requirements.txt

docker-compose up -d

cp env.example .env

alembic upgrade head

# Start the backend server
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

#### 3. Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev
```

#### 4. Access the Application
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Documentation: http://localhost:8000/docs

## üîß Environment Variables

### Backend (.env)
```env
# Database
DATABASE_URL=postgresql://postgres:password@localhost:5432/compliance_assistant

# LLM API
GEMINI_API_KEY=gemini_api_key

# Optional: Logging
LOG_LEVEL=INFO
```

### Frontend (.env.local)
```env
# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
```

## üìö API Documentation

The API documentation is automatically generated by FastAPI and available at:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

![alt text](<Screenshot 2025-07-27 at 01.09.28.png>) 
![alt text](<Screenshot 2025-07-27 at 01.09.10.png>)

<video controls src="Screen Recording 2025-07-27 at 01.17.51.mov" title="Title"></video>


### Key Endpoints

- `POST /api/v1/query` - Send a compliance question
- `GET /api/v1/sessions` - Get all chat sessions
- `POST /api/v1/sessions` - Create a new session
- `GET /api/v1/sessions/{id}` - Get specific session with messages
- `DELETE /api/v1/sessions/{id}` - Delete a session

## üèóÔ∏è Architecture

### Backend Architecture
```
backend/
‚îú‚îÄ‚îÄ api/           # API routes and endpoints
‚îú‚îÄ‚îÄ core/          # Core configuration and database
‚îú‚îÄ‚îÄ domain/        # Database models
‚îú‚îÄ‚îÄ infrastructure #LLM Client
‚îú‚îÄ‚îÄ services/      # Business logic
‚îú‚îÄ‚îÄ schemas/       # Pydantic models
‚îî‚îÄ‚îÄ utils/         # Utility functions and prompt engineering
```

### Frontend Architecture
```
frontend/
‚îú‚îÄ‚îÄ components/    # UI components
‚îú‚îÄ‚îÄ store/         # Redux store (actions, reducers, types)
‚îú‚îÄ‚îÄ services/      # API service layer
‚îú‚îÄ‚îÄ hooks/         # Custom React hooks
‚îú‚îÄ‚îÄ types/         # TypeScript interfaces
‚îî‚îÄ‚îÄ utils/         # Utility functions
```

## ü§ñ LLM Integration

### Prompt Engineering
The application uses carefully crafted prompts to ensure accurate compliance advice:

```python
def build_prompt(user_question: str, conversation_history: Optional[List[str]] = None) -> str:
    history_context = ""
    if conversation_history:
        history_context = "\n\nConversation History:\n" + "\n".join(conversation_history)
    
    return f"""You are an expert Compliance Assistant specializing in Small and Medium Enterprise (SME) regulatory guidance. Your expertise covers legal, regulatory, and operational compliance across multiple jurisdictions.
        CORE MISSION:
        Provide clear, actionable compliance guidance tailored to SME constraints including limited resources, smaller legal teams, and budget considerations.

        RESPONSE FORMAT:
        Always structure responses using Markdown with:
        - Clear headings for main topics (## Primary Topic, ### Subtopics)
        - Numbered lists for sequential steps or priorities
        - Bullet points for related items or considerations
        - Bold text for critical terms, deadlines, and requirements
        - Code blocks for specific regulatory references or examples
        - Tables for comparative information when relevant

        EXPERTISE AREAS:
        - Tax Compliance: VAT, corporate tax, payroll obligations, international tax issues
        - Employment Law: hiring practices, contracts, termination procedures, workplace rights
        - Data Protection: GDPR, local privacy laws, data breach protocols, consent management
        - Business Licensing: permits, registrations, renewals, industry-specific authorizations
        - Industry Regulations: sector-specific compliance requirements and standards
        - Health and Safety: workplace safety protocols, risk assessments, incident reporting
        - Financial Compliance: AML requirements, reporting obligations, record keeping
        - Intellectual Property: trademark protection, copyright compliance, trade secrets
        - Corporate Governance: board responsibilities, shareholder rights, disclosure requirements
        - Consumer Protection: fair trading, product liability, advertising standards

        RESPONSE PRINCIPLES:
        1. Assume the user has limited legal background - explain technical terms clearly
        2. Prioritize practical, immediately actionable advice over theoretical discussion
        3. Include specific timeframes, deadlines, and consequences where applicable
        4. Reference relevant legislation, regulations, or authoritative guidance
        5. Highlight SME-specific considerations like cost-effective solutions and simplified procedures
        6. Identify when professional legal or accounting advice is recommended
        7. Address both immediate compliance needs and long-term risk management

        INTERACTION GUIDELINES:
        - If questions lack sufficient context, ask specific clarifying questions
        - Reference previous conversation points to maintain continuity
        - Provide jurisdiction-specific advice when location is specified
        - Offer alternative approaches when multiple compliance paths exist
        - Include warnings about common SME compliance pitfalls

        {history_context}

        Current Question: {user_question}

        Provide comprehensive guidance addressing the specific compliance concern while considering SME operational realities."""
```

### Key Features
- **Context Awareness**: Maintains conversation history for better responses
- **Structured Output**: Ensures consistent, well-formatted responses
- **SME Focus**: Tailored specifically for small and medium business concerns


## Screens
![alt text](<Screenshot 2025-07-27 at 01.10.42.png>)
![alt text](<Screenshot 2025-07-27 at 02.24.21.png>)
![alt text](<Screenshot 2025-07-27 at 01.11.07.png>) 
