# Compliance Assistant - AI-Powered Business Compliance Chat

A modern full-stack application that helps Small and Medium Enterprises (SMEs) navigate legal, regulatory, and operational compliance challenges using AI.

## üöÄ Features

- **AI-Powered Compliance Assistant**: Get instant answers to compliance questions
- **Chat History**: Persistent conversation history with session management
- **Modern UI**: Responsive design with TailwindCSS
- **Real-time Responses**: Fast, formatted responses from LLM
- **Session Management**: Create, view, and manage chat sessions

## üõ†Ô∏è Tech Stack

### Backend
- **Framework**: FastAPI (Python)
- **Database**: PostgreSQL with SQLAlchemy
- **LLM**: Google Gemini
- **Documentation**: Auto-generated Swagger/OpenAPI

### Frontend
- **Framework**: Next.js 15 with TypeScript
- **Styling**: TailwindCSS v4
- **State Management**: Redux Toolkit
- **Architecture**: SOLID principles with clean separation of concerns

## üìã Prerequisites

- Python 3.11+
- Node.js 18+
- Docker (for PostgreSQL)
- Google Gemini API key

## üöÄ Quick Start

### Option 1: Docker Compose (Recommended)

```bash
# Clone the repository
git clone <your-repo-url>
cd compliance-assistant

# Set up environment variables
cp env.example .env
# Edit .env with your Gemini API key

# Start all services
docker-compose up --build

# Access the application
# Frontend: http://localhost:3000
# Backend API: http://localhost:8000
# API Documentation: http://localhost:8000/docs
```

### Option 2: Local Development

#### 1. Clone the Repository
```bash
git clone <your-repo-url>
cd compliance-assistant
```

#### 2. Backend Setup

```bash
cd backend

# Install dependencies
pip install -r requirements.txt

# Start PostgreSQL with Docker
docker-compose up -d

# Set up environment variables
cp env.example .env
# Edit .env with your Gemini API key

# Run database migrations (if needed)
alembic upgrade head

# Start the backend server
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

#### 3. Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev
```

#### 4. Access the Application
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Documentation: http://localhost:8000/docs

## üîß Environment Variables

### Backend (.env)
```env
# Database
DATABASE_URL=postgresql://postgres:password@localhost:5432/compliance_assistant

# LLM API
GEMINI_API_KEY=your_gemini_api_key_here

# Optional: Logging
LOG_LEVEL=INFO
```

### Frontend (.env.local)
```env
# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
```

## üìö API Documentation

The API documentation is automatically generated by FastAPI and available at:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

### Key Endpoints

- `POST /api/v1/query` - Send a compliance question
- `GET /api/v1/sessions` - Get all chat sessions
- `POST /api/v1/sessions` - Create a new session
- `GET /api/v1/sessions/{id}` - Get specific session with messages
- `DELETE /api/v1/sessions/{id}` - Delete a session

## üèóÔ∏è Architecture

### Backend Architecture
```
backend/
‚îú‚îÄ‚îÄ api/           # API routes and endpoints
‚îú‚îÄ‚îÄ core/          # Core configuration and database
‚îú‚îÄ‚îÄ domain/        # Database models
‚îú‚îÄ‚îÄ services/      # Business logic
‚îú‚îÄ‚îÄ schemas/       # Pydantic models for validation
‚îî‚îÄ‚îÄ utils/         # Utility functions and prompt engineering
```

### Frontend Architecture
```
frontend/
‚îú‚îÄ‚îÄ components/    # Reusable UI components
‚îú‚îÄ‚îÄ store/         # Redux store (actions, reducers, types)
‚îú‚îÄ‚îÄ services/      # API service layer
‚îú‚îÄ‚îÄ hooks/         # Custom React hooks
‚îú‚îÄ‚îÄ types/         # TypeScript interfaces
‚îú‚îÄ‚îÄ utils/         # Utility functions
‚îî‚îÄ‚îÄ constants/     # Configuration constants
```

## ü§ñ LLM Integration

### Prompt Engineering
The application uses carefully crafted prompts to ensure accurate compliance advice:

```python
def build_prompt(user_question: str, conversation_history: Optional[List[str]] = None) -> str:
    history_context = ""
    if conversation_history:
        history_context = "\n\nCONVERSATION HISTORY:\n" + "\n".join(conversation_history)
    
    return f"""
    You are a compliance assistant specializing in helping Small and Medium Enterprises (SMEs) navigate legal, regulatory, and operational compliance issues.

    Your goal is to provide clear, accurate, and actionable guidance for SMEs based on general compliance knowledge.

    {history_context}

    CURRENT QUESTION:
    {user_question}

    RESPONSE FORMAT:
    - Provide a concise, well-structured answer using bullet points where appropriate.
    - Tailor responses to typical SME concerns such as tax compliance, employment law, data protection (e.g. GDPR), licensing, or sector-specific rules.
    - If you need more information to answer accurately, explicitly state what's missing and suggest what the user should clarify.
    - Reference previous parts of the conversation when relevant to provide continuity.
    """
```

### Key Features
- **Context Awareness**: Maintains conversation history for better responses
- **Structured Output**: Ensures consistent, well-formatted responses
- **SME Focus**: Tailored specifically for small and medium business concerns

## üé® UI/UX Features

- **Responsive Design**: Works seamlessly on desktop, tablet, and mobile
- **Loading States**: Smooth loading indicators for better UX
- **Error Handling**: Graceful error handling with user-friendly messages
- **Chat Interface**: Modern chat UI with message history
- **Session Management**: Easy navigation between different conversations

## üß™ Testing

### Backend Testing
```bash
cd backend
pytest
```

### Frontend Testing
```bash
cd frontend
npm test
```

## üöÄ Deployment

### Backend Deployment
The backend can be deployed to any Python hosting platform (Heroku, Railway, etc.):

```bash
# Build and deploy
docker build -t compliance-assistant-backend .
docker run -p 8000:8000 compliance-assistant-backend
```

### Frontend Deployment
The frontend can be deployed to Vercel, Netlify, or any static hosting:

```bash
# Build for production
npm run build

# Deploy to Vercel
vercel --prod
```

## üìù Development Guidelines

### Code Quality
- Follow SOLID principles
- Use TypeScript for type safety
- Implement proper error handling
- Write clean, documented code

### Git Workflow
```bash
# Create feature branch
git checkout -b feature/new-feature

# Make changes and commit
git add .
git commit -m "feat: add new feature"

# Push and create PR
git push origin feature/new-feature
```

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## üìÑ License

This project is licensed under the MIT License - see the LICENSE file for details.

## üÜò Support

For support or questions, please open an issue in the GitHub repository.

---

**Built with ‚ù§Ô∏è using FastAPI, Next.js, and TailwindCSS** 