# Compliance Assistant - AI-Powered Business Compliance Chat

A modern full-stack application that helps Small and Medium Enterprises (SMEs) navigate legal, regulatory, and operational compliance challenges using AI.

## üöÄ Features

- **AI-Powered Compliance Assistant**: Get instant answers to compliance questions
- **Chat History**: Persistent conversation history with session management
- **Modern UI**: Responsive design with TailwindCSS
- **Real-time Responses**: Fast, formatted responses from LLM
- **Session Management**: Create, view, and manage chat sessions

## üõ†Ô∏è Tech Stack

### Backend
- **Framework**: FastAPI (Python)
- **Database**: PostgreSQL with SQLAlchemy
- **LLM**: Google Gemini
- **Documentation**: Auto-generated Swagger

### Frontend
- **Framework**: Next.js 15 with TypeScript
- **Styling**: TailwindCSS v4
- **State Management**: Redux Toolkit

## üìã Prerequisites

- Python 3.11+
- Node.js 18+
- Docker (for PostgreSQL)
- Google Gemini API key

## üöÄ Quick Start

### Option 1: Docker Compose (Recommended)

```bash
# Clone the repository
git clone https://github.com/Aduda-Shem/compliance-analyst.git
cd compliance-assistant

# Set up environment variables
cp env.example .env
# Edit .env with your Gemini API key

# Start all services
docker-compose up --build

# Access the application
# Frontend: http://localhost:3000
# Backend API: http://localhost:8000
# API Documentation: http://localhost:8000/docs
```

### Option 2: Local Development

#### 1. Clone the Repository
```bash
git clone https://github.com/Aduda-Shem/compliance-analyst.git
cd compliance-assistant
```

#### 2. Backend Setup

```bash
cd backend

# Install dependencies
pip install -r requirements.txt

docker-compose up -d

cp env.example .env

alembic upgrade head

# Start the backend server
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

#### 3. Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev
```

#### 4. Access the Application
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Documentation: http://localhost:8000/docs

## üîß Environment Variables

### Backend (.env)
```env
# Database
DATABASE_URL=postgresql://postgres:password@localhost:5432/compliance_assistant

# LLM API
GEMINI_API_KEY=gemini_api_key

# Optional: Logging
LOG_LEVEL=INFO
```

### Frontend (.env.local)
```env
# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
```

## üìö API Documentation

The API documentation is automatically generated by FastAPI and available at:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

![alt text](<Screenshot 2025-07-27 at 01.09.28.png>) 
![alt text](<Screenshot 2025-07-27 at 01.09.10.png>)

<video controls src="Screen Recording 2025-07-27 at 01.17.51.mov" title="Title"></video>


### Key Endpoints

- `POST /api/v1/query` - Send a compliance question
- `GET /api/v1/sessions` - Get all chat sessions
- `POST /api/v1/sessions` - Create a new session
- `GET /api/v1/sessions/{id}` - Get specific session with messages
- `DELETE /api/v1/sessions/{id}` - Delete a session

## üèóÔ∏è Architecture

### Backend Architecture
```
backend/
‚îú‚îÄ‚îÄ api/           # API routes and endpoints
‚îú‚îÄ‚îÄ core/          # Core configuration and database
‚îú‚îÄ‚îÄ domain/        # Database models
‚îú‚îÄ‚îÄ infrastructure #LLM Client
‚îú‚îÄ‚îÄ services/      # Business logic
‚îú‚îÄ‚îÄ schemas/       # Pydantic models
‚îî‚îÄ‚îÄ utils/         # Utility functions and prompt engineering
```

### Frontend Architecture
```
frontend/
‚îú‚îÄ‚îÄ components/    # UI components
‚îú‚îÄ‚îÄ store/         # Redux store (actions, reducers, types)
‚îú‚îÄ‚îÄ services/      # API service layer
‚îú‚îÄ‚îÄ hooks/         # Custom React hooks
‚îú‚îÄ‚îÄ types/         # TypeScript interfaces
‚îî‚îÄ‚îÄ utils/         # Utility functions
```

## ü§ñ LLM Integration

### Prompt Engineering
The application uses carefully crafted prompts to ensure accurate compliance advice:

```python
def build_prompt(user_question: str, conversation_history: Optional[List[str]] = None) -> str:
    history_context = ""
    if conversation_history:
        history_context = "\n\n### Conversation History:\n" + "\n".join(conversation_history)

    return f"""
        You are a **Compliance Assistant** specializing in helping **Small and Medium Enterprises (SMEs)** navigate legal, regulatory, and operational compliance issues.

        Your role is to provide **clear, accurate, and actionable guidance** tailored to the unique needs and challenges of SMEs.

        Respond professionally and return all outputs in **Markdown format**. Format the response using the following rules:

        ### Response Guidelines

        - **Use Markdown**:
        - Use headings (e.g. `## Tax Compliance`, `### Key Steps`)
        - Use bullet points or numbered lists for structure
        - Bold key terms and emphasize important instructions
        - Use code blocks for examples or regulations (if needed)

        - **Tone and Style**:
        - Maintain a **professional**, **concise**, and **supportive** tone
        - Avoid excessive verbosity; focus on clarity and usefulness
        - Write as if speaking to a business owner with no legal background

        - **Content Scope**:
        - Address concerns in areas such as:
            - **Tax Compliance** (e.g. VAT, income tax obligations)
            - **Employment Law** (e.g. contracts, fair dismissal)
            - **Data Protection & Privacy** (e.g. GDPR, local laws)
            - **Licensing & Permits**
            - **Industry-Specific Regulations**
            - **Health & Safety**
            - **Anti-Money Laundering (AML)**
            - **Intellectual Property**
            - **Corporate Governance**
            - **Consumer Protection**
        - Reference relevant **laws**, **regulations**, or **best practices** where appropriate

        - **Continuity**:
        - Reference earlier parts of the conversation when relevant
        - If the user's question is unclear or lacking context, **explicitly ask for clarification**

        {history_context}

        ---

        ## Current Question:
        {user_question}
        """
```

### Key Features
- **Context Awareness**: Maintains conversation history for better responses
- **Structured Output**: Ensures consistent, well-formatted responses
- **SME Focus**: Tailored specifically for small and medium business concerns


## Screens
![alt text](<Screenshot 2025-07-27 at 01.11.07.png>) 
![alt text](<Screenshot 2025-07-27 at 01.10.42.png>)

## Walkthrough
<video controls src="Screen Recording 2025-07-27 at 01.25.44.mov" title="Title"></video>